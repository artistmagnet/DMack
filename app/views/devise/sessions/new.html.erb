<div id="background-top" class="row">
  
  <br>
  <div class="col-xs-12 col-sm-10 col-sm-offset-1">
    <div id="sign-in-header" class="row">
      <div class="col-xs-12 col-sm-6 col-lg-5">
        <%= image_tag 'logo.svg', id: 'logo' %>
      </div>
      <div class="col-xs-12 col-sm-6 col-lg-offset-1">
        <%= render 'layouts/includes/signin' %>
      </div>
    </div>

    <br>
    
    <div id="sign-up-body" class='row'>
      <div id="description" class="col-md-5 col-md-offset-1 vcenter">
        <p class='title'>Connecting Artists through Shows and Venues <span class='reddish-text'>EVERYWHERE...</span></p>
        <i class="fa fa-wrench"></i>
        <div>Quickly build, print, share and save your own perfectly professional Resumes</div>
        <i class="fa fa-link"></i>
        <div>Instantly link your Resumes to your favorite Directors, Productions, Companies and Venues</div>
        <i class="fa fa-connectdevelop"></i>
        <div>Connect with your fellow Artists from your latest Show or around the world</div>
      </div>
      <div class='col-md-5 vcenter'>
        <!-- <a href="/auth/facebook"><img src="/assets/bigfacebook.png" class="img-responsive" alt="" /></a> -->
        <div class="row">
          <div class="col-md-8">
            <%= link_to("/auth/facebook", id: 'facebook', class: 'btn black-shadow') do %>
              <i class="fa fa-facebook-official"></i>Sign Up Through Facebook
            <% end %>
          </div>
        </div>
        
        <p>or</p>
          
        <%= form_for(resource, as: resource_name, url: registration_path(resource_name),:html=>{:id=>"signupForm",:class=>""}) do |f| %>             
          <%= devise_error_messages! %>
          <%= flash[:error]%>
            
          <div class='row'>
            <div class='col-xs-6 form-group'>
              <label class='control-label'>First Name*</label><br>
                <%= f.text_field :first_name, autofocus: true,:class=>'form-control black-shadow',:id=>"first_name" %>
            </div>
            <div class='col-xs-6 form-group '>
              <label class='control-label'>Last Name*</label><br>
              <%= f.text_field :last_name,:class=>'form-control black-shadow',:id=>"last_name" %>
            </div>             
          </div>

          <div class='row'>
            <div class='col-xs-12 form-group '>
              <label class='control-label'>Email*</label><br>
              <%= f.text_field :email,:class=>'form-control black-shadow',:id=>"email" %>
            </div>
          </div>
          <div class='row'>
            <div class='col-xs-12 col-sm-6 col-md-12 col-lg-6 form-group'>
              <label class='control-label'>Gender*</label><br>
              <div id='gender' class="row">
                <div id="gender-checkboxes" class="col-xs-12" style="<%= ['Male', 'Female', nil].include?(f.object.gender) ? '' : 'display: none;' %>">
                  <label class="radio-inline">
                    <%= f.radio_button :gender, "Male" %>male
                  </label>
                  <label class="radio-inline">				 
                    <%= f.radio_button :gender, "Female" %>female
                  </label>
                  <label class="radio-inline">				 
                    <%= f.radio_button :gender, "more" %>more
                  </label>
                </div>
                <div id="gender-edit" class="col-xs-12" style="<%= ['Male', 'Female', nil].include?(f.object.gender) ? 'display: none;' : '' %>">
                  <div class="input-group black-shadow">
                    <%= f.text_field :gender, class: 'form-control', id: 'user_gender_more_edit', placeholder: 'Please enter your gender identification here' %>
                    <span class="input-group-btn">
                      <button id= 'reset-gender' class="btn btn-danger" type="button">X</button>
                    </span>
                  </div>
                </div>
              </div>
            </div>
            <div class='col-xs-12 col-sm-6 col-md-12 col-lg-6 form-group required'>
              <label class='control-label'>Birth Date*</label><br>
              <%= f.text_field :dob,:class=>'form-control black-shadow',:id=>"datepicker" %>
            </div>
          </div>

          <!-- <div class='row'>
            <div class='col-xs-12 form-group required'>
              <label class='control-label'>Email Confirmation</label>
              <%#= f.text_field :email,:class=>'form-control ' ,:placeholder=>'Email' ,:id=>"confirm_email"%>
            </div>
          </div> -->

          <div class='row'>
            <div class='col-xs-6 form-group '>
              <label class='control-label'>Password*</label>
              <%= f.password_field :password, autocomplete: "off",:class=>'form-control black-shadow',:id=>"password" %>
            </div>
            <div class='col-xs-6 form-group '>
              <label class='control-label'>Confirm Password*</label>
              <%= f.password_field :password_confirmation, autocomplete: "off",:class=>'form-control black-shadow',:id=>"password_confirmation" %>
            </div>             
          </div>

          <!-- <div class='row'>
            <div class='col-xs-12 form-group '>
              <label class='control-label'>Member Type</label><br/>
              <label class="radio-inline">
              <%= f.radio_button :member_type,"Artist" %>Artist<span data-toggle="popover" data-placement="top" title="Tooltip on top">(?)</span>
              </label>
              <label class="radio-inline">				 
              <%= f.radio_button :member_type,"Company" %>Company<span data-toggle="popover" data-placement="top" title="Tooltip on top">(?)</span>
              </label>
            </div>
          </div> -->

          <div class='row'>
            <div class='col-xs-12 form-group'>  
              <%#= show_simple_captcha %>    
              <%= recaptcha_tags %>        
            </div>
          </div> 
          
          <div class='row'>
            <div class='col-xs-3 form-group'>  
              <%= f.submit "Sign Up",:class=>'form-control btn submit-button reddish-background black-shadow' %>           
            </div>
            <div class='col-xs-12 form-group'> 
              By clicking the Sign Up button, you agree to Artist Magnet’s<a href="/terms_and_conditions" target="_blank"> Terms and Conditions</a>
            </div>
          </div>    
        <%end%>
      </div>      
    </div>
  </div>
  <br>
  <%#= render "devise/shared/links" %>
</div>

<div id="bottom-section" class="row">
  <%= image_tag 'background_btm.jpg' %>
  <div class="text">
    <p class='title'><span class='bold'>“artist Magnet”</span> Is For</p>
    <div>Live Performance Actors, Directors, Dancers, Singers, Musicians, Playwrights, Composers,</div>
    <div>Librettists, Dramaturgs, Stage Managers, Production Managers, Producers, Designers, Stage</div>
    <div>Crew, Technicians, Conductors, Choreographers, Performance Artists, and more...</div>
  </div>
</div>
  
<script>  
  $(document).ready(function() {
    var field1 = new LiveValidation( 'first_name', {onlyOnSubmit: true } );
    field1.add( Validate.Presence );

    var field2 = new LiveValidation( 'last_name', {onlyOnSubmit: true } );
    field2.add( Validate.Presence );
    
    var field3 = new LiveValidation( 'email', {onlyOnSubmit: true } );
    field3.add( Validate.Presence );
    field3.add( Validate.Email );
    
    var field4 = new LiveValidation( 'user_gender_more_edit', {onlyOnSubmit: true,
    insertAfterWhatNode : 'gender'});
    field4.add( Validate.Presence );
    
    var field5 = new LiveValidation( 'datepicker', {onlyOnSubmit: true } );
    field5.add( Validate.Presence );
    
    var field6 = new LiveValidation( 'password', {onlyOnSubmit: false } );
    field6.add( Validate.Presence );
    field6.add( Validate.Length, {minimum: 8, maximum: 128} );
    
    var field7 = new LiveValidation( 'password_confirmation', {onlyOnSubmit: false } );
    field7.add( Validate.Presence );
    field7.add( Validate.Confirmation, { match: 'password' } );
    
    $("input[name='user[gender]']:radio").change(function() {
      if (this.value == 'more') {
        $("input#user_gender_more_edit").val('');
        $("#gender-checkboxes").hide();
        $("#gender-edit").show();
        $("#gender-edit").find("input#user_gender_more_edit").focus();
      } else {
        $("input#user_gender_more_edit").val(this.value);
      }
      
    });
    
    $("#reset-gender").click(function() {
      $("#gender-edit").hide();
      $("#gender-edit").find("input#user_gender_more").val('');
      $("input[name='user[gender]']:radio").attr("checked", false);
      $("#gender-checkboxes").show();
      $("#gender-checkboxes").find("input#user_gender_male").focus();
    });
    
    // var f19 = new LiveValidation('confirm_email');
    // f19.add( Validate.Confirmation, { match: 'email' } );
  });
</script>
